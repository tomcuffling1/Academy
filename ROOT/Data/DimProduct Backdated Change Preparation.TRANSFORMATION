{"job":{"components":{"117328":{"id":117328,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":-42,"y":222,"width":32,"height":32,"inputConnectorIDs":[117336],"outputConnectorIDs":[117334,117339],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter Products to Change"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_prodno"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"10"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_prodno"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"20"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_prodno"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"30"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_prodno"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"40"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OR"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"117329":{"id":117329,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":335239555,"x":576,"y":224,"width":32,"height":32,"inputConnectorIDs":[117341],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rewrite Table 0"}}}},"visible":true},"2":{"slot":2,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ownertableprefix}dim_product_tmp"}}}},"visible":true},"3":{"slot":3,"name":"Table Sort Key","elements":{},"visible":true},"4":{"slot":4,"name":"Table Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Even"}}}},"visible":true},"5":{"slot":5,"name":"Table Distribution Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Sort Key Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Compound"}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"117330":{"id":117330,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":256,"y":336,"width":32,"height":32,"inputConnectorIDs":[117334],"outputConnectorIDs":[117340],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Calculator Old records"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"'N'"},"2":{"slot":2,"type":"STRING","value":"dim_product_currentflag"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CAST('29-FEB-2020 23:59:59' as DATETIME)"},"2":{"slot":2,"type":"STRING","value":"dim_product_enddate"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"117331":{"id":117331,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-1841822228,"x":416,"y":224,"width":32,"height":32,"inputConnectorIDs":[117338,117340,117343],"outputConnectorIDs":[117341],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Unite 0"}}}},"visible":true},"2":{"slot":2,"name":"Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"All Columns"}}}},"visible":true},"3":{"slot":3,"name":"Cast Types","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"4":{"slot":4,"name":"Add Source Component Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Remove duplicates","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"117332":{"id":117332,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":256,"y":224,"width":32,"height":32,"inputConnectorIDs":[117339],"outputConnectorIDs":[117338],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Calculator New records"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"case \"dim_product_prodno\"\nwhen 10 then\n\"dim_product_description\"\nelse\n\"dim_product_description\" || ' with fittings'\nend"},"2":{"slot":2,"type":"STRING","value":"dim_product_description"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"case \"dim_product_prodno\"\nwhen 10 then\n50\nelse\n\"dim_product_price\"\nend"},"2":{"slot":2,"type":"STRING","value":"dim_product_price"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"CAST('01-MAR-2020 00:00:00' as DATETIME)"},"2":{"slot":2,"type":"STRING","value":"dim_product_startdate"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"117333":{"id":117333,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":-48,"y":112,"width":32,"height":32,"inputConnectorIDs":[117337],"outputConnectorIDs":[117343],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter Dummy Product to not change"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_prodno"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"0"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"117335":{"id":117335,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":-224,"y":224,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[117336,117337],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product"}}}},"visible":true},"2":{"slot":2,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ownertableprefix}dim_product"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_prodno"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_description"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_category"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_cost"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_price"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_childprodno"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_firstorderdate"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_currentflag"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_startdate"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"dim_product_enddate"}}}},"visible":true},"4":{"slot":4,"name":"Trim Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"117334":{"id":117334,"sourceID":117328,"targetID":117330},"117336":{"id":117336,"sourceID":117335,"targetID":117328},"117337":{"id":117337,"sourceID":117335,"targetID":117333},"117338":{"id":117338,"sourceID":117332,"targetID":117331},"117339":{"id":117339,"sourceID":117328,"targetID":117332},"117340":{"id":117340,"sourceID":117330,"targetID":117331},"117341":{"id":117341,"sourceID":117331,"targetID":117329},"117343":{"id":117343,"sourceID":117333,"targetID":117331}},"notes":{"117324":{"id":117324,"x":-155,"y":-156,"width":625,"height":150,"text":"**Job Name     :  **\nDimProduct Backdated Change Preparation\n\n**Description  :   **\nUses the current Product dimension records and simulates changes on 1-Mar-2020 by creating new versions of some rows, and places these plus the end dated older versions into a temporary table ready for a second job to recreate the Product dimension. \n\nTransformation jobs are effectively SQL commands, hence 2 jobs are needed to separate the comparison to the dimension and the subsequent insert/updates against the dimension\n\n","colour":"f9c21b"},"117326":{"id":117326,"x":87,"y":86,"width":209,"height":293,"text":"Calculate new descriptions, for products 20, 30 and 40, and new price for product 10, plus Start and End Dates and flags for new/changed rows as required","colour":"e6e63c"},"117327":{"id":117327,"x":326,"y":85,"width":289,"height":210,"text":"Join up new and changed old rows and then recreate the Product dimension as if the changes were applied on 1-Mar-2020","colour":"e6e63c"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"DimProduct Backdated Change Preparation","description":"","type":"TRANSFORMATION","tag":"38b06eff-83ed-4205-a20d-7d17e217aab8"}}