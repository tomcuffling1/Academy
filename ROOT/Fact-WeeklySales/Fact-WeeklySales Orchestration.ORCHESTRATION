{"job":{"components":{"117574":{"id":117574,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":400,"y":-32,"width":32,"height":32,"inputConnectorIDs":[117578],"outputSuccessConnectorIDs":[117579],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Fact-WeeklySales Transformation"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Fact-WeeklySales Transformation"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117575":{"id":117575,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":656,"y":-32,"width":32,"height":32,"inputConnectorIDs":[117579],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117576":{"id":117576,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":16,"y":-32,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[117581],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"117577":{"id":117577,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":160,"y":-32,"width":32,"height":32,"inputConnectorIDs":[117581],"outputSuccessConnectorIDs":[117578],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Fact Table"}}}},"visible":true},"2":{"slot":2,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ownertableprefix}fact_weeklysales"}}}},"visible":true},"3":{"slot":3,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create if not exists"}}}},"visible":true},"4":{"slot":4,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_weekname"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"15"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_custno"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_customer_name"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"100"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_prodno"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_product_description"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"100"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_salesperson_empno"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_salesperson_name"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"100"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_totalorders"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_totalquantity"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_totalprice"},"2":{"slot":2,"type":"STRING","value":"Numeric"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"2"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_totalcost"},"2":{"slot":2,"type":"STRING","value":"Numeric"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"2"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_totalvalue"},"2":{"slot":2,"type":"STRING","value":"Numeric"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"2"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"fact_weeklysales_totaldiscount"},"2":{"slot":2,"type":"STRING","value":"Numeric"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"2"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"False"},"7":{"slot":7,"type":"STRING","value":""}}}},"visible":true},"5":{"slot":5,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auto"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"7":{"slot":7,"name":"Sort Key","elements":{},"visible":true},"8":{"slot":8,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"9":{"slot":9,"name":"Primary Key","elements":{},"visible":true},"11":{"slot":11,"name":"Identity Columns","elements":{},"visible":true},"14":{"slot":14,"name":"Sort Key Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Compound"}}}},"visible":false},"15":{"slot":15,"name":"Backup Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"117578":{"id":117578,"sourceID":117577,"targetID":117574},"117579":{"id":117579,"sourceID":117574,"targetID":117575}},"failureConnectors":{},"unconditionalConnectors":{"117581":{"id":117581,"sourceID":117576,"targetID":117577}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{"117570":{"id":117570,"x":6,"y":-394,"width":851,"height":214,"text":"**Job Name     :  **\nFact-WeeklySales Orchestration\n\n**Description  :   **\nIllustrates how to build a fact, joined to a series of dimensions, where the source data is held in a table populated by Fixed Flow components within the 'Staging Data Preparation' transformation job.\n\nNew or changed data intended to trigger new rows within the Sales fact must be created manually by changing the staging data, and then applied by re-running this Orchestration job. \n\n**Suggestion  :   **\nChange this job to update the Sales fact incrementally rather than building it from scratch each time. As a transformation is effectively a SQL command, it can't use a table as its source and target at the same time, therefore you'll need to use 2 transformation jobs just like the SCD2 and SCD3 dimensions. Your new 'preparation' job should compare the staging data to the fact to find new orders, and then copy these orders to a temporary table which is then used as the main source of the 2nd job. Remember to change the 'Table Output' component to no longer truncate.","colour":"f9c21b"},"117572":{"id":117572,"x":327,"y":-136,"width":205,"height":147,"text":"Transform the staging data into the correct format , join to the dimensions and then populate the fact. ","colour":"e6e63c"},"117573":{"id":117573,"x":87,"y":-90,"width":208,"height":101,"text":"Create the Target Table if it doesnt already exist","colour":"e6e63c"}},"variables":{"default_key":{"definition":{"name":"default_key","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"-1"},"default_text":{"definition":{"name":"default_text","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"N/A"}},"grids":{}},"info":{"name":"Fact-WeeklySales Orchestration","description":"","type":"ORCHESTRATION","tag":"2487267e-d98b-4acd-afc5-9c777685a92f"}}